/* ************************************************************************** */
/*                                                                            */
/*                                                        :::      ::::::::   */
/*   ShrubberyCreationForm.cpp                          :+:      :+:    :+:   */
/*                                                    +:+ +:+         +:+     */
/*   By: marvin <marvin@student.42.fr>              +#+  +:+       +#+        */
/*                                                +#+#+#+#+#+   +#+           */
/*   Created: 2021/05/27 16:18:09 by marvin            #+#    #+#             */
/*   Updated: 2021/05/27 16:18:09 by marvin           ###   ########.fr       */
/*                                                                            */
/* ************************************************************************** */

#include "ShrubberyCreationForm.hpp"

ShrubberyCreationForm::ShrubberyCreationForm(std::string name):Form(name, 145, 137){}

void	ShrubberyCreationForm::action(Bureaucrat const &obj) const{

	std::string name = obj.getName() + "_shrubbery";
	int fd = open(name.c_str(), O_WRONLY | O_CREAT, 0666);

	for (int i = 0; i < 15; i++)
		write(fd,
"\n\n\n                   *\n\
                  ***\n\
                 *****\n\
                *******\n\
               *********\n\
              ***********\n\
             *************\n\
            ***************\n\
           *****************\n\
          *******************\n\
              ***********\n\
             *************\n\
            ***************\n\
           *****************\n\
          *******************\n\
         *********************\n\
        ***********************\n\
       *************************\n\
      ***************************\n\
     *****************************\n\
         *********************\n\
        ***********************\n\
       *************************\n\
      ***************************\n\
     *****************************\n\
    *******************************\n\
   *********************************\n\
  ***********************************\n\
 *************************************\n\
***************************************\n\
               *********\n\
               *********\n\
               *********\n\
               *********\n\n", 1020);

	close(fd);
}
